<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Psykicks Admin</title>
  <!-- plugins:css -->
  <link rel="stylesheet" href="node_modules/mdi/css/materialdesignicons.min.css">
  <link rel="stylesheet" href="node_modules/perfect-scrollbar/dist/css/perfect-scrollbar.min.css">
  <!-- endinject -->
  <!-- plugin css for this page -->
  <link rel="stylesheet" href="node_modules/jquery-bar-rating/dist/themes/css-stars.css">
  <link rel="stylesheet" href="node_modules/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css" />
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="{% static 'psyadmin/css/style.css'%}">
  <!-- endinject -->
  <link rel="shortcut icon" href="{% static 'psyadmin/images/favicon.png' %}" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


  <style>

    {% block style%}

    {% endblock style %}

  </style>


</head>

<body style="background-color:white;">

<div class="container-scroller m-0" >
    <!-- partial:partials/_navbar.html -->
    <nav class="navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row">
      <div class="text-center navbar-brand-wrapper " >
        <a class="navbar-brand brand-logo d-flex align-items-center justify-content-center" href="#" style="font-weight:bold" >PSYKICKS</a>
      </div>
      <div class="navbar-menu-wrapper d-flex align-items-stretch">
        
        <ul class="navbar-nav navbar-nav-right">
        
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle nav-profile" id="profileDropdown" href="#" data-toggle="dropdown" aria-expanded="false">
              <img src="{% static 'psyadmin/images/admin.jpeg'%}" alt="image">
              <span class="d-none d-lg-inline" >PsyKicks Admin</span>
            </a>
           
          </li>
          

          
        
        </ul>
     
      </div>
    </nav>
    <!-- partial -->

    

<br><br>


  
    <nav class="sidebar sidebar-offcanvas" id="sidebar " style="width:220px">
      <ul class="nav">
        <li class="nav-item">
          <a class="nav-link" href={% url 'admin_index' %}>
            <span class="menu-title">Dashboard</span>
            <span class="menu-sub-title">( 2 new updates )</span>
            <i class="mdi mdi-home menu-icon"></i>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="collapse" href={% url 'users' %} aria-expanded="false" aria-controls="ui-basic">
            <span class="menu-title">Users</span>
            <i class="menu-arrow"></i>
            <i class="mdi mdi-crosshairs-gps menu-icon"></i>
          </a>
         
        </li>
        <li class="nav-item">
          <a class="nav-link" href={% url 'products' %}>
            <span class="menu-title">Products</span>
            <i class="mdi mdi-contacts menu-icon"></i>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href={% url 'categories' %}>
            <span class="menu-title">Categories</span>
            <i class="mdi mdi-format-list-bulleted menu-icon"></i>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href={% url 'orders' %}>
            <span class="menu-title">Orders</span>
            <i class="mdi mdi-chart-bar menu-icon"></i>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href={% url 'coupon_management' %}>
            <span class="menu-title">Coupon</span>
            <i class="mdi mdi-table-large menu-icon"></i>
          </a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" data-toggle="collapse" href="#auth" aria-expanded="false" aria-controls="auth">
            <span class="menu-title">Offers</span>
            <i class="menu-arrow">
              <a class="nav-link" href={% url 'productoffer' %}>
                <span class="menu-title">Product Offer</span>
                {% comment %} <i class="mdi mdi-table-large menu-icon"></i>
                <a class="nav-link" href={% url 'categoryoffer' %}>
                  <span class="menu-title">Category Offer</span>
                  <i class="mdi mdi-table-large menu-icon"></i>
            </i> {% endcomment %}
           
             
          </a>
          <div >
          
              <a href={% url 'admin_logout' %} class="dis-block icon-header-item cl2 hov-cl1 trans-04 p-l-22 p-r-11 " >
                Logout
              </a>
              
          
          </div>
        </li>
      </ul>
      <div class="sidebar-progress">
        <a href="{% url 'sales_report' %}">
          <p>Total Sales</p>
        </a>
        
        
        <div class="progress progress-sm">
          <div class="progress-bar bg-gradient-success" role="progressbar" style="width: 72%" aria-valuenow="72" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <p>50 Items sold</p>
      </div>
      <div class="sidebar-progress">
        <p>Customer Target</p>
        <div class="progress progress-sm">
          <div class="progress-bar bg-gradient-primary" role="progressbar" style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <p>200 Items sold</p>
      </div>
      <div class="wrapper upgrade-button">
        <a href="https://www.bootstrapdash.com/product/purple-bootstrap-4-admin-template/" target="_blank" class="btn btn-lg btn-block purchase-button">Upgrade To Pro</a>
      </div>
    </nav> 

    
  

  {% block content %}
  <div class="row mt-5"></div>
  {% comment %} <div class="row mt-5"></div> {% endcomment %}
  
  {% comment %} <div class="content-wrapper">
    <div class="row purchace-popup">
      <div class="col-12">
        <span class="d-flex alifn-items-center">
          <p>Like what you see? Check out our premium version for more.</p>
          <a href="https://github.com/BootstrapDash/PurpleAdmin-Free-Admin-Template" target="_blank" class="btn ml-auto download-button">Download Free Version</a>
          <a href="https://www.bootstrapdash.com/product/purple-bootstrap-4-admin-template/" target="_blank" class="btn purchase-button">Upgrade To Pro</a>
          <i class="mdi mdi-close popup-dismiss"></i>
        </span>
      </div>
    </div> {% endcomment %}
    {% comment %} <div class="row">
      <div class="col-md-4 stretch-card grid-margin">
        <div class="card bg-gradient-warning text-white">
          <div class="card-body">
            <h4 class="font-weight-normal mb-3">Weekly Sales</h4>
            <h2 class="font-weight-normal mb-5">$ 15,00000.00</h2>
            <p class="card-text">Incresed by 60%</p>
          </div>
        </div>
      </div>
      <div class="col-md-4 stretch-card grid-margin">
        <div class="card bg-gradient-info text-white">
          <div class="card-body">
            <h4 class="font-weight-normal mb-3">Weekly Orders</h4>
            <h2 class="font-weight-normal mb-5">45633456</h2>
            <p class="card-text">Decreased by 10%</p>
          </div>
        </div>
      </div>
      <div class="col-md-4 stretch-card grid-margin">
        <div class="card bg-gradient-success text-white">
          <div class="card-body">
            <h4 class="font-weight-normal mb-3">Visitors Online</h4>
            <h2 class="font-weight-normal mb-5">955741235</h2>
            <p class="card-text">Increased by 5%</p>
          </div>
        </div>
      </div>
    </div>{% endcomment %}
    <form action="" method="POST">{% csrf_token %}
    <div style="margin-left:1000px;" class="col-md-3 ">
      <label for="date-input">Start Date:</label>
      <input class="form-control" type="date" id="date-input" name="startdate" value={{startdate}}>
      <label for="date-input">End Date:</label>
      <input class="form-control" type="date" id="date-input" name="enddate" value={{enddate}}>
      <div class="text-right">
        <button class="btn btn-outline-primary mt-4" type="submit">Apply</button>
  
      </div>
    </div>
    
    
  </form>
  
 

    {% comment %} <div class="row">
      <div class="col-md-7 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Sale Overview</h4>
            <canvas id="sales-chart"></canvas>
          </div>
        </div>
      </div>
      <div class="col-md-5 grid-margin stretch-card">
        <div class="card">
          <div class="card-body d-flex flex-column">
            <h4 class="card-title">Satisfaction Graph</h4>
            <div class="mt-auto">
              <canvas id="satisfaction-chart" height="200"></canvas>
            </div>
          </div>
        </div>
      </div>  {% endcomment %}
      <div class="container" style="margin-left:300px">
        <h2>Order Statistics</h2>
        <div class="row mt-5"></div>
        <div class="row">
          <div class="col-md-6">
            <canvas id="pie-chart"></canvas>
          </div>
          <div class="col-md-6">
            <h4>Top Product: {{ top_product }}</h4>
            <h4>Top Returned Product: {{ top_returned_product }}</h4>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-5"></div>
    
    
    {% comment %} <div class="row">
      <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Recent Updates</h4>
            <div class="d-flex">
              <div class="d-flex align-items-center mr-4 text-muted">
                <i class="mdi mdi-account icon-sm mr-2"></i>
                <span>jack Menqu</span>
              </div>
              <div class="d-flex align-items-center text-muted">
                <i class="mdi mdi-calendar-blank icon-sm mr-2"></i>
                <span>October 3rd, 2018</span>
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-6 pr-1">
                <img src="{% static "psyadmin/images/dashboard/img_1.jpg" %}" class="mb-2 mw-100 w-100 rounded" alt="image">
                <img src="{% static "psyadmin/images/dashboard/img_4.jpg" %}" class="mw-100 w-100 rounded" alt="image">
              </div>
              <div class="col-6 pl-1">
                <img src="{% static "psyadmin/images/dashboard/img_2.jpg"%}" class="mb-2 mw-100 w-100 rounded" alt="image">
                <img src="{% static "psyadmin/images/dashboard/img_3.jpg"%}" class="mw-100 w-100 rounded" alt="image">
              </div>
            </div>
            <div class="d-flex mt-5 align-items-top">
              <img src="{% static "psyadmin/images/faces/face3.jpg"%}" class="img-sm rounded-circle mr-3" alt="image">
              <div class="mb-0 flex-grow">
                <p class="font-weight-bold mr-2 mb-0">Jack Manque</p>
                <p>This is amazing! We have moved to a brand new office in
                  New Hampshire with a lot more space.
                  We will miss our old office but we are very excited about our new space.</p>
              </div>
              <div class="ml-auto">
                <i class="mdi mdi-heart-outline text-muted"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 grid-margin">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Recent Tickets</h4>
            <div class="table-responsive">
              <table class="table">
                <thead>
                  <tr>
                    <th>
                      Ticket No.
                    </th>
                    <th>
                      Subject
                    </th>
                    <th>
                      Assignee
                    </th>
                    <th>
                      Status
                    </th>
                    <th>
                      Last Update
                    </th>
                    <th>
                      Tracking ID
                    </th>
                    <th>
                      Priority
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      5669
                    </td>
                    <td>
                      Fund is not recieved
                    </td>
                    <td class="py-1">
                      <img src="{% static "psyadmin/images/faces/face1.jpg"%}" class="mr-2" alt="image">
                      David Grey
                    </td>
                    <td>
                      <label class="badge badge-gradient-success">DONE</label>
                    </td>
                    <td>
                      Dec 5, 2017
                    </td>
                    <td>
                      WD-12345
                    </td>
                    <td>
                      <i class="mdi mdi-arrow-up text-danger icon-sm mr-1"></i>High
                    </td>
                  </tr>
                  <tr>
                    <td>
                      5670
                    </td>
                    <td>
                      High loading time
                    </td>
                    <td class="py-1">
                      <img src="{% static "psyadmin/images/faces/face2.jpg"%}" class="mr-2" alt="image">
                      Stella Johnson
                    </td>
                    <td>
                      <label class="badge badge-gradient-warning">PROGRESS</label>
                    </td>
                    <td>
                      Dec 12, 2017
                    </td>
                    <td>
                      WD-12346
                    </td>
                    <td>
                      <i class="mdi mdi-arrow-up text-danger icon-sm mr-1"></i>High
                    </td>
                  </tr>
                  <tr>
                    <td>
                      5671
                    </td>
                    <td>
                      Website down for one week
                    </td>
                    <td class="py-1">
                      <img src="{% static "psyadmin/images/faces/face3.jpg"%}" class="mr-2" alt="image">
                      Marina Michel
                    </td>
                    <td>
                      <label class="badge badge-gradient-secondary">ON HOLD</label>
                    </td>
                    <td>
                      Dec 16, 2017
                    </td>
                    <td>
                      WD-12347
                    </td>
                    <td>
                      <i class="mdi mdi-arrow-up text-success icon-sm mr-1"></i>Low
                    </td>
                  </tr>
                  <tr>
                    <td>
                      5672
                    </td>
                    <td>
                      Loosing control on server
                    </td>
                    <td class="py-1">
                      <img src="{% static "psyadmin/images/faces/face4.jpg"%}" class="mr-2" alt="image">
                      John Doe
                    </td>
                    <td>
                      <label class="badge badge-gradient-success">DONE</label>
                    </td>
                    <td>
                      Dec 3, 2017
                    </td>
                    <td>
                      WD-12348
                    </td>
                    <td>
                      <i class="mdi mdi-arrow-up text-warning icon-sm mr-1"></i>Medium
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Shipping Status</h4>
            <div class="table-responsive">
              <table class="table">
                <thead>
                  <tr>
                    <th>
                      #
                    </th>
                    <th>
                      Name
                    </th>
                    <th>
                      Overall Progress
                    </th>
                    <th>
                      ID
                    </th>
                    <th>
                      Start Date
                    </th>
                    <th>
                      Due Date
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      1
                    </td>
                    <td>
                      Herman Beck
                    </td>
                    <td>
                      <div class="progress">
                        <div class="progress-bar bg-gradient-success" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </td>
                    <td>
                      ST-3
                    </td>
                    <td>
                      May 10, 2015
                    </td>
                    <td>
                      May 15, 2015
                    </td>
                  </tr>
                  <tr>
                    <td>
                      2
                    </td>
                    <td>
                      Messsy Adam
                    </td>
                    <td>
                      <div class="progress">
                        <div class="progress-bar bg-gradient-danger" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </td>
                    <td>
                      ST-4
                    </td>
                    <td>
                      May 01, 2015
                    </td>
                    <td>
                      Jul 01, 2015
                    </td>
                  </tr>
                  <tr>
                    <td>
                      3
                    </td>
                    <td>
                      John Richards
                    </td>
                    <td>
                      <div class="progress">
                        <div class="progress-bar bg-gradient-warning" role="progressbar" style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </td>
                    <td>
                      ST-5
                    </td>
                    <td>
                      Mar 10, 2015
                    </td>
                    <td>
                      Apr 12, 2015
                    </td>
                  </tr>
                  <tr>
                    <td>
                      4
                    </td>
                    <td>
                      Peter Meggik
                    </td>
                    <td>
                      <div class="progress">
                        <div class="progress-bar bg-gradient-primary" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </td>
                    <td>
                      ST-6
                    </td>
                    <td>
                      May 10, 2015
                    </td>
                    <td>
                      May 15, 2015
                    </td>
                  </tr>
                  <tr>
                    <td>
                      5
                    </td>
                    <td>
                      Edward
                    </td>
                    <td>
                      <div class="progress">
                        <div class="progress-bar bg-gradient-danger" role="progressbar" style="width: 35%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </td>
                    <td>
                      ST-7
                    </td>
                    <td>
                      Jan 23, 2015
                    </td>
                    <td>
                      May 03, 2015
                    </td>
                  </tr>
                  <tr>
                    <td>
                      5
                    </td>
                    <td>
                      Ronald
                    </td>
                    <td>
                      <div class="progress">
                        <div class="progress-bar bg-gradient-info" role="progressbar" style="width: 65%" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </td>
                    <td>
                      ST-8
                    </td>
                    <td>
                      Jun 01, 2015
                    </td>
                    <td>
                      Jun 05, 2015
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> {% endcomment %}
  <!-- content-wrapper ends -->

       
  {% comment %} <div class="container-fluid">
    <div class="row justify-content-center mt-4">
        <h4>
            Sales Report
        </h4>
    </div> {% endcomment %}
    {% comment %} <div class="row  justify-content-center mt-5">
      <h4>
          Download Sales Report
      </h4>
  </div> {% endcomment %}

  {% comment %} <div class="row justify-content-center border mt-2  ">
      <form action="" method="POST">
        {% csrf_token %}
          <label class="mt-5" for="start_date">Start Date:</label>
          <input class="form-control" type="date" id="start_date" name="start_date" required>
          <br>
          <label for="end_date">End Date:</label>
          <input  class="form-control" type="date" id="end_date" name="end_date" required>
          <br>
         
   
  
          <div class="row mb-5">
            <button name="show" type="submit" class="btn add-product-btn btn-primary mt-2">Show Report</button>
            <button name="download"  type="submit" class="btn add-product-btn btn-primary mt-2 ml-4 ">Download</button>
            <button name="downloadinexcel"  type="submit" class="btn add-product-btn btn-primary mt-2 ml-4 ">Download In Excel</button>
              
  
          </div>
          <div>
            

            

          </div>
    
          
      </form>

  </div>
  {% if orderobjs %}
    <div class="row">
        <table class="table table-striped">
            <thead>
              <tr>
                <th>Product</th>
                <th>Ordered By</th>
                <th>Payment Type</th>
                <th>Quantity</th>
                <th>Date</th>
                <th>Status</th>
                <th>Address</th>
                
            
              </tr>
            </thead>
            <tbody>
              {% for item in orderobjs %}
              <tr>
                <td>{{ item.product.name }}</td>
                <td>{{ item.user.name }}</td>
                <td>{{ item.ordertype }}</td>
                <td>{{ item.quantity }}</td>
                <td>{{ item.orderdate }}</td>
                <td>{{ item.orderstatus }}</td>
                <td>{{ item.address.house }} ,{{ item.address.locality }}</td>
                
              </tr>
              {% endfor %}
            </tbody>
          </table>

    </div>
    
    
    {% endif %}
    {% if message %}
    <div class="text-center mt-4 text-danger">
      {{message}}


    </div>
    {% endif %}


    
    <br><br><br><br>
</div> {% endcomment %}
        


  
</div> 
        {% endblock content %}


      

        
        <!-- partial:partials/_footer.html -->
        <footer class="footer">
          <div class="d-sm-flex justify-content-center justify-content-sm-between">
            <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Copyright Â© 2017 <a href="https://www.bootstrapdash.com/" target="_blank">Bootstrap Dash</a>. All rights reserved.</span>
            <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Hand-crafted & made with <i class="mdi mdi-heart text-danger"></i></span>
          </div>
        </footer>
      
        <!-- partial -->
      </div>
      <!-- row-offcanvas ends -->
    </div>
    <!-- page-body-wrapper ends -->
  </div>
  <!-- container-scroller -->

  <!-- plugins:js -->
  {% comment %} <script src="node_modules/jquery/dist/jquery.min.js"></script>
  <script src="node_modules/popper.js/dist/umd/popper.min.js"></script>
  <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="node_modules/perfect-scrollbar/dist/js/perfect-scrollbar.jquery.min.js"></script> {% endcomment %}
  <!-- endinject -->
  <!-- Plugin js for this page-->
  {% comment %} <script src="node_modules/chart.js/dist/Chart.min.js"></script> 
  <script src="{% static "psyadmin/js/chart.js"%}"></script>
<script src="{% static "psyadmin/js/dashboard.js"%}"></script> {% endcomment %}

  <!-- End plugin js for this page-->
  <!-- inject:js -->
  {% comment %} <script src="{% static 'psyadmin/js/off-canvas.js'%}"></script>
  <script src="{% static 'psyadmin/js/misc.js'%}"></script> {% endcomment %}
  <!-- endinject -->
  <!-- Custom js for this page-->
  {% comment %} <script src="{% static 'psyadmin/js/dashboard.js'%}"></script> {% endcomment %}
  <!-- End custom js for this page-->

  {% comment %} <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> {% endcomment %}

   
 {% comment %} <script>
    var xValues = [{% for item in returndict  %} '{{item}}',  {% endfor %}];
    var yValues = [20,30];
    var yValues = [ {% for key, value in returndict.items %}
                  {{ value }},
                    {% endfor %}
                    ]; 
    var barColors = ["pink", "lightgreen","red","orange","brown"];
    
    new Chart("mybarChart", {
      type: "bar",
      data: {
        labels: xValues,
        datasets: [{
          backgroundColor: barColors,
          data: yValues
        }]
      },
      options: {
        legend: {display: false},
        title: {
          display: true,
          text: "World Wine Production 2018"
        }
      }
    });
    </script>  {% endcomment %}


    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var pieData = {
          labels: [{% for key in orderdict.keys %}'{{ key }}',{% endfor %}],
          datasets: [{
            data: [{% for value in orderdict.values %}{{ value }},{% endfor %}],
            backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#33FF57', '#C7D3FF'],
            borderColor: ['#FF6384', '#36A2EB', '#FFCE56', '#33FF57', '#C7D3FF'],
            borderWidth: 1
          }]
        };
  
        var pieOptions = {
          responsive: true,
          legend: {
            position: 'bottom'
          }
        };
  
        var ctx = document.getElementById('pie-chart').getContext('2d');
        new Chart(ctx, {
          type: 'pie',
          data: pieData,
          options: pieOptions
        });
      });
    </script>

    <script>
      // Get the canvas element
const salesChart = document.getElementById('sales-chart').getContext('2d');

// Sample data for the chart
const salesData = {
  labels: ['January', 'February', 'March', 'April', 'May', 'June'],
  datasets: [
    {
      label: 'Total Sales',
      data: [1500, 2000, 1800, 2200, 2500, 2300],
      backgroundColor: 'rgba(75, 192, 192, 0.2)',
      borderColor: 'rgba(75, 192, 192, 1)',
      borderWidth: 2
    }
  ]
};

// Create the chart
const chart = new Chart(salesChart, {
  type: 'line',
  data: salesData,
  options: {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  }
});

    </script>


</body>

</html>
